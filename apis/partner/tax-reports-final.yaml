openapi: 3.0.1
info:
  x-metadata:
    apiId: class-partner-api-v1
    tags:
      - Partner
  title: Tax Reports API
  version: 1.0.0000
  description: |
   description here


   Environments:
   - PIE base url: https://apigateway.class-pie.com.au
   - Production base url: https://apigateway.class.com.au

servers:
  - url: https://apigateway.class-test.com.au/api/1.0
    description: Test Environment

paths:
  /f/{businessCode}/{fundCode}/report-data/tax-reports/annual-return/{year}:
    get:
      operationId: annualReturn
      summary: annualReturn
      description: The annual return for a given year.
      parameters:
      - $ref: '#/components/parameters/businessCodeParam'
      - $ref: '#/components/parameters/fundCodeParam'
      - $ref: '#/components/parameters/yearParam'
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                - Data
                properties:
                  Data:
                    $ref: '#/components/schemas/SMSFAnnualReturn_SMSFAnnualReturn'
                allOf:
                - $ref: '#/components/schemas/ApiResponseBase'
        '400': &id001
          description: Error Message
          content:
            application/json:
              schema:
                type: object
                properties:
                  Errors:
                    type: array
                    items:
                      $ref: '#/components/schemas/ErrorResponse'
            application/xml:
              schema:
                xml:
                  wrapped: false
                  name: ApiResponse xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                type: object
                properties:
                  Errors:
                    type: array
                    items:
                      $ref: '#/components/schemas/ErrorResponse'
                      wrapped: true
                      name: Errors
        '401': &id002
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  Errors:
                    type: array
                    items:
                      $ref: '#/components/schemas/UnauthorizedErrorCommon'
            application/xml:
              schema:
                xml:
                  wrapped: false
                  name: ApiResponse xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                    xmlns:xsd="http://www.w3.org/2001/XMLSchema-instance"
                type: object
                properties:
                  Errors:
                    type: object
                    properties:
                      ApiError:
                        type: array
                        items:
                          $ref: '#/components/schemas/UnauthorizedErrorCommon'
        '403': &id003
          description: Forbidden
          content:
            application/json:
              schema:
                type: object
                properties:
                  Errors:
                    type: array
                    items:
                      $ref: '#/components/schemas/ForbiddenErrorCommon'
            application/xml:
              schema:
                type: object
                properties:
                  Errors:
                    type: array
                    items:
                      $ref: '#/components/schemas/ForbiddenErrorCommon'
                    xml:
                      wrapped: true
                      name: Errors
                xml:
                  wrapped: false
                  name: ApiResponse xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        '404': &id004
          description: Resource not available or user does not have access to the
            fund
          content:
            application/json:
              schema:
                type: object
                properties:
                  Errors:
                    type: array
                    items:
                      $ref: '#/components/schemas/ResourceUnavailableErrorCommon'
            application/xml:
              schema:
                type: object
                properties:
                  Errors:
                    type: array
                    items:
                      $ref: '#/components/schemas/ResourceUnavailableErrorCommon'
                    xml:
                      wrapped: true
                      name: Errors
                xml:
                  wrapped: false
                  name: ApiResponse xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        '500': &id005
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  Errors:
                    type: array
                    items:
                      $ref: '#/components/schemas/InternalErrorCommon'
            application/xml:
              schema:
                type: object
                properties:
                  Errors:
                    type: array
                    items:
                      $ref: '#/components/schemas/InternalErrorCommon'
                    xml:
                      wrapped: true
                      name: Errors
                xml:
                  wrapped: false
                  name: ApiResponse xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        default: &id006
          description: Unexpected error
          content:
            application/json:
              schema:
                type: object
                properties:
                  Errors:
                    type: array
                    items:
                      $ref: '#/components/schemas/InternalErrorCommon'
            application/xml:
              schema:
                type: object
                properties:
                  Errors:
                    type: array
                    items:
                      $ref: '#/components/schemas/InternalErrorCommon'
                    xml:
                      wrapped: true
                      name: Errors
                xml:
                  wrapped: false
                  name: ApiResponse xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      security:
      - Class_oAuth:
        - fund.read
  /f/{businessCode}/{fundCode}/report-data/tax-reports/bas-report-summary/{startdate}/{enddate}:
    get:
      operationId: basReportSummary
      summary: basReportSummary
      description: The summary report for all Business Activity Statements.
      parameters:
      - $ref: '#/components/parameters/businessCodeParam'
      - $ref: '#/components/parameters/fundCodeParam'
      - name: startdate
        in: path
        required: true
        schema:
          type: string
          format: date-time
      - name: enddate
        in: path
        required: true
        schema:
          type: string
          format: date-time
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                - Data
                properties:
                  Data:
                    $ref: '#/components/schemas/TaxReports_BASReportSummary'
                allOf:
                - $ref: '#/components/schemas/ApiResponseBase'
        '400': *id001
        '401': *id002
        '403': *id003
        '404': *id004
        '500': *id005
        default: *id006
      security:
      - Class_oAuth:
        - fund.read
  /f/{businessCode}/{fundCode}/report-data/tax-reports/capital-allowance/{year}:
    get:
      operationId: capitalAllowance
      summary: capitalAllowance
      description: The capital allowance schedule for a given year.
      parameters:
      - $ref: '#/components/parameters/businessCodeParam'
      - $ref: '#/components/parameters/fundCodeParam'
      - $ref: '#/components/parameters/yearParam'
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                - Data
                properties:
                  Data:
                    $ref: '#/components/schemas/SMSFAnnualReturn_CapitalAllowanceSchedule'
                allOf:
                - $ref: '#/components/schemas/ApiResponseBase'
        '400': *id001
        '401': *id002
        '403': *id003
        '404': *id004
        '500': *id005
        default: *id006
      security:
      - Class_oAuth:
        - fund.read
  /f/{businessCode}/{fundCode}/report-data/tax-reports/cgt-schedule/{year}:
    get:
      operationId: cgtSchedule
      summary: cgtSchedule
      description: The CGT schedule for a given year.
      parameters:
      - $ref: '#/components/parameters/businessCodeParam'
      - $ref: '#/components/parameters/fundCodeParam'
      - $ref: '#/components/parameters/yearParam'
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                - Data
                properties:
                  Data:
                    $ref: '#/components/schemas/SMSFAnnualReturn_CGTSchedule'
                allOf:
                - $ref: '#/components/schemas/ApiResponseBase'
        '400': *id001
        '401': *id002
        '403': *id003
        '404': *id004
        '500': *id005
        default: *id006
      security:
      - Class_oAuth:
        - fund.read
  /f/{businessCode}/{fundCode}/report-data/tax-reports/compiliation-details/{year}:
    get:
      operationId: smsfCompilationDetails
      summary: smsfCompilationDetails
      description: The compilation details for a given year.
      parameters:
      - $ref: '#/components/parameters/businessCodeParam'
      - $ref: '#/components/parameters/fundCodeParam'
      - $ref: '#/components/parameters/yearParam'
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                - Data
                properties:
                  Data:
                    $ref: '#/components/schemas/TaxReports_SMSFCompilationDetails'
                allOf:
                - $ref: '#/components/schemas/ApiResponseBase'
        '400': *id001
        '401': *id002
        '403': *id003
        '404': *id004
        '500': *id005
        default: *id006
      security:
      - Class_oAuth:
        - fund.read
  /f/{businessCode}/{fundCode}/report-data/tax-reports/losses-schedule/{year}:
    get:
      operationId: lossesSchedule
      summary: lossesSchedule
      description: The losses schedule for a given year.
      parameters:
      - $ref: '#/components/parameters/businessCodeParam'
      - $ref: '#/components/parameters/fundCodeParam'
      - $ref: '#/components/parameters/yearParam'
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                - Data
                properties:
                  Data:
                    $ref: '#/components/schemas/SMSFAnnualReturn_LossesSchedule'
                allOf:
                - $ref: '#/components/schemas/ApiResponseBase'
        '400': *id001
        '401': *id002
        '403': *id003
        '404': *id004
        '500': *id005
        default: *id006
      security:
      - Class_oAuth:
        - fund.read
  /f/{businessCode}/{fundCode}/report-data/tax-reports/statement-taxable-income/{year}:
    get:
      operationId: statementTaxableIncome
      summary: statementTaxableIncome
      description: The statement of taxable income for a given year.
      parameters:
      - $ref: '#/components/parameters/businessCodeParam'
      - $ref: '#/components/parameters/fundCodeParam'
      - $ref: '#/components/parameters/yearParam'
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                - Data
                properties:
                  Data:
                    $ref: '#/components/schemas/TaxReports_StatementOfTaxableIncome'
                allOf:
                - $ref: '#/components/schemas/ApiResponseBase'
        '400': *id001
        '401': *id002
        '403': *id003
        '404': *id004
        '500': *id005
        default: *id006
      security:
      - Class_oAuth:
        - fund.read
  /f/{businessCode}/{fundCode}/report-data/tax-reports/trust-income-schedule/{year}:
    get:
      operationId: trustIncomeSchedule
      summary: trustIncomeSchedule
      description: The trust income schedule for a given year.
      parameters:
      - $ref: '#/components/parameters/businessCodeParam'
      - $ref: '#/components/parameters/fundCodeParam'
      - $ref: '#/components/parameters/yearParam'
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - Data
                properties:
                  Data:
                    $ref: '#/components/schemas/TrustIncomeSchedule'
                allOf:
                  - $ref: '#/components/schemas/ApiResponseBase'
        '400': *id001
        '401': *id002
        '403': *id003
        '404': *id004
        '500': *id005
        default: *id006
      security:
        - Class_oAuth:
            - fund.read
components:
  schemas:
    AddressSummary:
      type: object
      required:
      - AddressLine1
      - AddressLine2
      - AddressLine3
      - PostCode
      - Locality
      - State
      - Country
      properties:
        AddressLine1:
          type: string
        AddressLine2:
          type: string
        AddressLine3:
          type: string
        PostCode:
          type: string
        Locality:
          type: string
        State:
          type: string
        Country:
          type: string
    ApiError:
      type: object
      required:
      - Code
      - Message
      properties:
        Code:
          type: string
        Message:
          type: string
    ApiResponseBase:
      type: object
      required:
      - ErrorCodes
      - Errors
      - CreatedUri
      - IsCreatedResponse
      properties:
        ErrorCodes:
          type: array
          items:
            type: string
        Errors:
          type: array
          items:
            $ref: '#/components/schemas/ApiError'
        CreatedUri:
          type: string
        IsCreatedResponse:
          type: boolean
    BASReportSummary_BenefitPaymentDetail:
      type: object
      required:
      - Type
      - Description
      - GrossAmount
      - TaxWithheld
      properties:
        Type:
          $ref: '#/components/schemas/BenefitPaymentDetailType'
        Description:
          type: string
        GrossAmount:
          type: number
          format: decimal
        TaxWithheld:
          type: number
          format: decimal
    BASReportSummary_EstimatedTaxPosition:
      type: object
      required:
      - PeriodGrossTaxableIncome
      - YtdGrossTaxableIncome
      - PeriodEstimatedTaxPayable
      - YtdEstimatedTaxPayable
      - InstalmentsPaid
      properties:
        PeriodGrossTaxableIncome:
          type: number
          format: decimal
        YtdGrossTaxableIncome:
          type: number
          format: decimal
        PeriodEstimatedTaxPayable:
          type: number
          format: decimal
        YtdEstimatedTaxPayable:
          type: number
          format: decimal
        InstalmentsPaid:
          type: number
          format: decimal
    BASReportSummary_GSTClassSummary:
      type: object
      required:
      - Details
      - GrossTotal
      - GstTotal
      properties:
        Details:
          type: array
          items:
            $ref: '#/components/schemas/BASReportSummary_GstTransactionDetail'
        GrossTotal:
          type: number
          format: decimal
        GstTotal:
          type: number
          format: decimal
    BASReportSummary_GSTSummary:
      type: object
      required:
      - SalesDetails
      - ExportSalesDetails
      - OtherGSTFreeSalesDetails
      - CapitalPurchasesDetails
      - NonCapitalPurchasesDetails
      properties:
        SalesDetails:
          $ref: '#/components/schemas/BASReportSummary_GSTClassSummary'
        ExportSalesDetails:
          $ref: '#/components/schemas/BASReportSummary_GSTClassSummary'
        OtherGSTFreeSalesDetails:
          $ref: '#/components/schemas/BASReportSummary_GSTClassSummary'
        CapitalPurchasesDetails:
          $ref: '#/components/schemas/BASReportSummary_GSTClassSummary'
        NonCapitalPurchasesDetails:
          $ref: '#/components/schemas/BASReportSummary_GSTClassSummary'
    BASReportSummary_GstTransactionDetail:
      type: object
      required:
      - Description
      - GrossAmount
      - GstAmount
      - EffectiveDate
      properties:
        Description:
          type: string
        GrossAmount:
          type: number
          format: decimal
        GstAmount:
          type: number
          format: decimal
        EffectiveDate:
          type: string
          format: date-time
    BASReportSummary_MemberBenefitPaymentDetail:
      type: object
      required:
      - BenefitPaymentDetails
      - MemberNumber
      - MemberName
      properties:
        BenefitPaymentDetails:
          type: array
          items:
            $ref: '#/components/schemas/BASReportSummary_BenefitPaymentDetail'
        MemberNumber:
          type: string
        MemberName:
          type: string
    BASReportSummary_PAYGWithholdingSummary:
      type: object
      required:
      - MemberDetails
      - TotalPayments
      - AmountsWithheldFromW1
      - TotalAmountsWithheld
      properties:
        MemberDetails:
          type: array
          items:
            $ref: '#/components/schemas/BASReportSummary_MemberBenefitPaymentDetail'
        TotalPayments:
          type: number
          format: decimal
        AmountsWithheldFromW1:
          type: number
          format: decimal
        TotalAmountsWithheld:
          type: number
          format: decimal
    BenefitPaymentDetailType:
      type: string
      enum:
      - IncomeStream
      - LumpSum
    DateRange:
      type: object
      required:
      - StartPeriodDate
      - EndPeriodDate
      - IsEmpty
      - IsPopulated
      - NumberOfDaysContained
      - EpochStart
      - EpochEnd
      - MinDatePeriodUpdate
      properties:
        StartPeriodDate:
          type: string
          format: date-time
        EndPeriodDate:
          type: string
          format: date-time
        IsEmpty:
          type: boolean
        IsPopulated:
          type: boolean
        NumberOfDaysContained:
          type: integer
          format: int32
        EpochStart:
          type: string
          format: date-time
        EpochEnd:
          type: string
          format: date-time
        MinDatePeriodUpdate:
          type: string
          format: date-time
    LegalEntityType:
      type: string
      enum:
      - SMSF
      - SAF
      - Personal
      - Trust
      - Company
      - Partnership
      - Consolidated
    SMSFAnnualReturn_CGTSchedule:
      type: object
      required:
      - Abn
      - Tfn
      - StartDate
      - EndDate
      properties:
        Abn:
          type: string
        Tfn:
          type: string
        StartDate:
          type: string
          format: date-time
        EndDate:
          type: string
          format: date-time
    SMSFAnnualReturn_CapitalAllowanceSchedule:
      type: object
    SMSFAnnualReturn_LossesSchedule:
      type: object
      required:
      - Abn
      - Tfn
      - StartDate
      - EndDate
      properties:
        Abn:
          type: string
        Tfn:
          type: string
        StartDate:
          type: string
          format: date-time
        EndDate:
          type: string
          format: date-time
    SMSFAnnualReturn_SMSFAnnualReturn:
      type: object
      required:
      - IsThisAnAmendment
      - ReasonForAmendment
      properties:
        IsThisAnAmendment:
          type: boolean
        AmendmentIndicator:
          type: integer
          format: int32
        AmendmentType:
          type: integer
          format: int32
        ReasonForAmendment:
          type: string
    StandardAddress:
      type: object
      required:
      - EffectiveStatusCode
      - Messages
      - Warnings
      - Errors
      - State
      - PostCode
      - Locality
      - Country
      - ValidatedAddress
      - AddressLine1
      - AddressLine2
      - AddressLine3
      - AddressLine4
      properties:
        EffectiveStatusCode:
          $ref: '#/components/schemas/StatusCode'
        Messages:
          type: array
          items:
            type: string
        Warnings:
          type: array
          items:
            type: string
        Errors:
          type: array
          items:
            type: string
        State:
          type: string
        PostCode:
          type: string
        Locality:
          type: string
        Country:
          type: string
        ValidatedAddress:
          type: boolean
        AddressLine1:
          type: string
        AddressLine2:
          type: string
        AddressLine3:
          type: string
        AddressLine4:
          type: string
    StandardApiResponse:
      type: object
      allOf:
      - $ref: '#/components/schemas/ApiResponseBase'
    StatementOfTaxableIncome_Section:
      type: object
      required:
      - Name
      properties:
        Name:
          type: string
    StatusCode:
      type: string
      enum:
      - Active
      - Cancelled
      - Pending
      - Suspended
    TaxReports_BASReportSummary:
      type: object
      required:
      - Period
      - FundName
      - FundCode
      - FundAbn
      - Gst
      - Payg
      - EstimatedTaxPos
      properties:
        Period:
          type: string
          format: date-time
        FundName:
          type: string
        FundCode:
          type: string
        FundAbn:
          type: string
        Gst:
          $ref: '#/components/schemas/BASReportSummary_GSTSummary'
        Payg:
          $ref: '#/components/schemas/BASReportSummary_PAYGWithholdingSummary'
        EstimatedTaxPos:
          $ref: '#/components/schemas/BASReportSummary_EstimatedTaxPosition'
    TaxReports_SMSFCompilationDetails:
      type: object
      required:
      - FundName
      - FundCode
      - FundAbn
      - TrusteeName
      - PreviousFY
      - CurrentFY
      - AccountantName
      - AccountantAddress
      - TrusteesOrDirectors
      properties:
        FundName:
          type: string
        FundCode:
          type: string
        FundAbn:
          type: string
        TrusteeName:
          type: string
        PreviousFY:
          type: integer
          format: int32
        CurrentFY:
          type: integer
          format: int32
        AccountantName:
          type: string
        AccountantAddress:
          $ref: '#/components/schemas/StandardAddress'
        TrusteesOrDirectors:
          type: string
    TaxReports_StatementOfTaxableIncome:
      type: object
      required:
      - Period
      - FundName
      - FundCode
      - FundLegalType
      - Errors
      - ABN
      - TFN
      - AdvisorName
      - FundAddress
      - Income
      - Expense
      - GrossTax
      - TaxCredits
      - TaxInstalmentsPaid
      - NonAssessableIncome
      properties:
        Period:
          type: string
          format: date-time
        FundName:
          type: string
        FundCode:
          type: string
        FundLegalType:
          $ref: '#/components/schemas/LegalEntityType'
        Errors:
          type: array
          items:
            type: string
        ABN:
          type: string
        TFN:
          type: string
        AdvisorName:
          type: string
        FundAddress:
          $ref: '#/components/schemas/AddressSummary'
        Income:
          $ref: '#/components/schemas/StatementOfTaxableIncome_Section'
        Expense:
          $ref: '#/components/schemas/StatementOfTaxableIncome_Section'
        GrossTax:
          $ref: '#/components/schemas/StatementOfTaxableIncome_Section'
        TaxCredits:
          $ref: '#/components/schemas/StatementOfTaxableIncome_Section'
        TaxInstalmentsPaid:
          $ref: '#/components/schemas/StatementOfTaxableIncome_Section'
        NonAssessableIncome:
          $ref: '#/components/schemas/StatementOfTaxableIncome_Section'
    InternalErrorCommon:
      type: object
      properties:
        Code:
          type: string
          example: API_INTERNAL_ERROR
        Message:
          type: string
          example: An unexpected error occurred on the server. Please try again later.
      xml:
        name: Error
    ErrorResponse:
      type: object
      properties:
        code:
          type: string
          nullable: true
        message:
          type: string
          nullable: true
      additionalProperties: false
    ForbiddenErrorCommon:
      type: object
      properties:
        Code:
          type: string
          example: FORBIDDEN
        Message:
          type: string
          example: You do not have permission to access this resource.
      xml:
        name: Error
    ResourceUnavailableErrorCommon:
      type: object
      properties:
        Code:
          type: string
          example: API_NOT_FOUND
        Message:
          type: string
          example: Resource not available or user does not have access to the fund.
      xml:
        name: Error
    UnauthorizedErrorCommon:
      type: object
      properties:
        Code:
          type: string
          example: API_NOT_AUTHORISED
        Message:
          type: string
          example: Not authorised
      xml:
        name: Error
        wrapped: false
  parameters:
    businessCodeParam:
      name: businessCode
      in: path
      description: Class business code
      required: true
      schema:
        type: string
        example: demo-business
    fundCodeParam:
      name: fundCode
      description: Class entity code
      in: path
      required: true
      schema:
        type: string
        example: demo-fund
    yearParam:
      name: year
      in: path
      required: true
      schema:
        type: integer
        format: int32
  securitySchemes:
    Class_oAuth:
      type: oauth2
      description: Class uses oAuth2 and OpenID for authentication and authorisation
      flows:
        authorizationCode:
          authorizationUrl: 'https://app.class-test.com.au/connect/authorize'
          tokenUrl: 'https://app.class-test.com.au/connect/token'
          scopes:
            business.fund.list: List summarised data of funds in the business
            business.fund.create: Create new funds in the business
            fund.details.read: View basic fund details
            fund.details.maintain: View and maintain basic fund details
            fund.member.read: View member details
            fund.member.maintain: View and maintain member details
            fund.read: View all fund information
            fund.maintain: View and maintain all fund information
        clientCredentials:
          tokenUrl: 'https://app.class-test.com.au/connect/token'
          scopes:
            business.fund.list: List summarised data of funds in the business
            business.fund.create: Create new funds in the business
            fund.details.read: View basic fund details
            fund.details.maintain: View and maintain basic fund details
            fund.member.read: View member details
            fund.member.maintain: View and maintain member details
            fund.read: View all fund information
            fund.maintain: View and maintain all fund information